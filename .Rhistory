plot(uga2_acf, main = "UGA")
# ACF GRAPH: RESIDUALS
corn_acf <- forecast::Acf(CORN_in$Ea, plot = FALSE)
soyb_acf <- forecast::Acf(SOYB_in$Ea, plot = FALSE)
weat_acf <- forecast::Acf(WEAT_in$Ea, plot = FALSE)
uso_acf <- forecast::Acf(USO_in$Ea, plot = FALSE)
uga_acf <- forecast::Acf(UGA_in$Ea, plot = FALSE)
par(mfrow = c(3, 2)) #, mai = c(0.25, 0.5, 0.2, 0.05))  # come back and change format
plot(corn_acf, main = "CORN")
plot(soyb_acf, main = "SOYB")
plot(weat_acf, main = "WEAT")
plot(uso_acf, main = "USO")
plot(uga_acf, main = "UGA")
dev.off()
# DICKEY-FULLER: RESIDUALS
tseries::adf.test(CORN)
# DICKEY-FULLER: RESIDUALS
tseries::adf.test(CORN_in$Ea)
# DICKEY-FULLER: RESIDUALS
tseries::adf.test(CORN_in$Ea)
tseries::adf.test(SOYB_in$Ea)
tseries::adf.test(WEAT_in$Ea)
tseries::adf.test(USO_in$Ea)
tseries::adf.test(UGA_in$Ea)
stats::Box.test(CORN_in$Ea, type = "Ljung-Box", lag = 12)
stats::Box.test(CORN_in$Ea^2, type = "Ljung-Box", lag = 12)
stats::Box.test(CORN_in$Ea^2, type = "Ljung-Box", lag = 12)
stats::Box.test(SOYB_in$Ea^2, type = "Ljung-Box", lag = 12)
stats::Box.test(WEAT_in$Ea^2, type = "Ljung-Box", lag = 12)
stats::Box.test(USO_in$Ea^2, type = "Ljung-Box", lag = 12)
stats::Box.test(UGA_in$Ea^2, type = "Ljung-Box", lag = 12)
# ACF GRAPH: SQUARED RESIDUALS
corn2_acf <- forecast::Acf(CORN_in$Ea^2, plot = FALSE)
soyb2_acf <- forecast::Acf(SOYB_in$Ea^2, plot = FALSE)
weat2_acf <- forecast::Acf(WEAT_in$Ea^2, plot = FALSE)
uso2_acf <- forecast::Acf(USO_in$Ea^2, plot = FALSE)
uga2_acf <- forecast::Acf(UGA_in$Ea^2, plot = FALSE)
par(mfrow = c(3, 2)) #, mai = c(0.25, 0.5, 0.2, 0.05))  # come back and change format
plot(corn2_acf, main = "CORN")
plot(soyb2_acf, main = "SOYB")
plot(weat2_acf, main = "WEAT")
plot(uso2_acf, main = "USO")
plot(uga2_acf, main = "UGA")
dev.off()
# DICKEY-FULLER: RESIDUALS
# In every case, we reject the null hypothesis and assume stationarity
tseries::adf.test(CORN_in$Ea)
tseries::adf.test(SOYB_in$Ea)
tseries::adf.test(WEAT_in$Ea)
tseries::adf.test(USO_in$Ea)
tseries::adf.test(UGA_in$Ea)
# ACF GRAPH: RESIDUALS
corn_acf <- forecast::Acf(CORN_in$Ea, plot = FALSE)
soyb_acf <- forecast::Acf(SOYB_in$Ea, plot = FALSE)
weat_acf <- forecast::Acf(WEAT_in$Ea, plot = FALSE)
uso_acf <- forecast::Acf(USO_in$Ea, plot = FALSE)
uga_acf <- forecast::Acf(UGA_in$Ea, plot = FALSE)
par(mfrow = c(3, 2)) #, mai = c(0.25, 0.5, 0.2, 0.05))  # come back and change format
plot(corn_acf, main = "CORN")
plot(soyb_acf, main = "SOYB")
plot(weat_acf, main = "WEAT")
plot(uso_acf, main = "USO")
plot(uga_acf, main = "UGA")
dev.off()
# ACF GRAPH: SQUARED RESIDUALS
corn2_acf <- forecast::Acf(CORN_in$Ea^2, plot = FALSE)
soyb2_acf <- forecast::Acf(SOYB_in$Ea^2, plot = FALSE)
weat2_acf <- forecast::Acf(WEAT_in$Ea^2, plot = FALSE)
uso2_acf <- forecast::Acf(USO_in$Ea^2, plot = FALSE)
uga2_acf <- forecast::Acf(UGA_in$Ea^2, plot = FALSE)
par(mfrow = c(3, 2)) #, mai = c(0.25, 0.5, 0.2, 0.05))  # come back and change format
plot(corn2_acf, main = "CORN")
plot(soyb2_acf, main = "SOYB")
plot(weat2_acf, main = "WEAT")
plot(uso2_acf, main = "USO")
plot(uga2_acf, main = "UGA")
dev.off()
# LJUNG-BOX TEST: SQUARED RETURNS
stats::Box.test(CORN_in$Ea^2, type = "Ljung-Box", lag = 10)
stats::Box.test(SOYB_in$Ea^2, type = "Ljung-Box", lag = 10)
stats::Box.test(WEAT_in$Ea^2, type = "Ljung-Box", lag = 10)
stats::Box.test(USO_in$Ea^2, type = "Ljung-Box", lag = 10)
stats::Box.test(UGA_in$Ea^2, type = "Ljung-Box", lag = 10)
plot(corn2_acf, main = "CORN")
plot(soyb2_acf, main = "SOYB")
plot(weat2_acf, main = "WEAT")
plot(uso2_acf, main = "USO")
plot(corn2_acf, main = "CORN")
plot(soyb2_acf, main = "SOYB")
plot(weat2_acf, main = "WEAT")
plot(uso2_acf, main = "USO")
plot(uga2_acf, main = "UGA")
plot(uso2_acf, main = "USO")
plot(uga2_acf, main = "UGA")
###############################################################################
##### ARCH Analysis ###########################################################
###############################################################################
# Colburn Hassman
# colburn7@vt.edu
# January 18, 2021
# PURPOSE: Motivate the GARCH Analysis. Uses TDa
# IMPORT PACKAGES
# IMPORT DATA
source("~/Documents/etf_tracking/Analysis/preprocessing.R")
CORN_in <- data_pull_in("CORN")
SOYB_in <- data_pull_in("SOYB")
WEAT_in <- data_pull_in("WEAT")
USO_in <- data_pull_in("USO")
UGA_in <- data_pull_in("UGA")
# MINCER ZARNOWITZ
mz_fun <- function(data){
data <- na.omit(data) # Omits NAs created by return
mod <- lm(data$per_ETF_return ~ data$per_NAV_return) #runs linear model
data$Ea <- mod$residuals # assign residuals to arbitrage episilon
return(data)
}
CORN_in <- mz_fun(CORN_in)
SOYB_in <- mz_fun(SOYB_in)
WEAT_in <- mz_fun(WEAT_in)
USO_in <- mz_fun(USO_in)
UGA_in <- mz_fun(UGA_in)
par(mfrow = c(3, 2)) #, mai = c(0.25, 0.5, 0.2, 0.05))  # come back and change format
plot(corn_acf, main = "CORN")
plot(soyb_acf, main = "SOYB")
plot(weat_acf, main = "WEAT")
# ACF GRAPH: RESIDUALS
corn_acf <- forecast::Acf(CORN_in$Ea, plot = FALSE)
soyb_acf <- forecast::Acf(SOYB_in$Ea, plot = FALSE)
weat_acf <- forecast::Acf(WEAT_in$Ea, plot = FALSE)
uso_acf <- forecast::Acf(USO_in$Ea, plot = FALSE)
uga_acf <- forecast::Acf(UGA_in$Ea, plot = FALSE)
par(mfrow = c(3, 2)) #, mai = c(0.25, 0.5, 0.2, 0.05))  # come back and change format
plot(corn_acf, main = "CORN")
plot(soyb_acf, main = "SOYB")
plot(weat_acf, main = "WEAT")
plot(uso_acf, main = "USO")
plot(uga_acf, main = "UGA")
dev.off()
par(mfrow = c(3, 2)) #, mai = c(0.25, 0.5, 0.2, 0.05))  # come back and change format
plot(corn_acf, main = "CORN")
plot(soyb_acf, main = "SOYB")
par(mfrow = c(3, 2) , mai = c(0.5, 0.5, 0.5, 0.5))  # come back and change format
plot(corn_acf, main = "CORN")
plot(soyb_acf, main = "SOYB")
plot(weat_acf, main = "WEAT")
par(mfrow = c(3, 2) , mai = c(0.2, 0.5, 0.5, 0.5))  # come back and change format
plot(corn_acf, main = "CORN")
plot(soyb_acf, main = "SOYB")
plot(weat_acf, main = "WEAT")
par(mfrow = c(3, 2) , mai = c(0.2, 0.3, 0.5, 0.5))  # come back and change format
plot(corn_acf, main = "CORN")
plot(soyb_acf, main = "SOYB")
plot(weat_acf, main = "WEAT")
plot(uso_acf, main = "USO")
par(mfrow = c(3, 2) , mai = c(0.2, 0.3, 0.3, 0.5))  # come back and change format
plot(corn_acf, main = "CORN")
plot(soyb_acf, main = "SOYB")
par(mfrow = c(3, 2) , mai = c(0.2, 0.3, 0.4, 0.5))  # come back and change format
plot(corn_acf, main = "CORN")
plot(soyb_acf, main = "SOYB")
plot(weat_acf, main = "WEAT")
par(mfrow = c(3, 2) , mai = c(0.2, 0.3, 0.45, 0.5))  # come back and change format
plot(corn_acf, main = "CORN")
plot(soyb_acf, main = "SOYB")
plot(weat_acf, main = "WEAT")
plot(uso_acf, main = "USO")
plot(corn_acf, sub = "CORN")
par(mfrow = c(3, 2) , mai = c(0.2, 0.3, 0.45, 0.5))  # come back and change format
plot(corn_acf, sub = "CORN")
par(mfrow = c(3, 2) , mai = c(0.2, 0.3, 0.45, 0.5))  # come back and change format
plot(corn_acf, main = "CORN")
plot(soyb_acf, main = "SOYB")
plot(weat_acf, main = "WEAT")
plot(uso_acf, main = "USO")
par(mfrow = c(3, 2) , mai = c(0.2, 0.45, 0.45, 0.5))  # come back and change format
plot(corn_acf, main = "CORN")
plot(soyb_acf, main = "SOYB")
plot(weat_acf, main = "WEAT")
plot(uso_acf, main = "USO")
3
3
3
3
plot(corn_acf, main = "CORN")
par(mfrow = c(3, 2) , mai = c(0.2, 0.3, 0.45, 0.5))  # come back and change format
plot(corn_acf, main = "CORN")
plot(soyb_acf, main = "SOYB")
par(mfrow = c(3, 2) , mai = c(0.2, 0.3, 0.4, 0.5))  # come back and change format
plot(corn_acf, main = "CORN")
plot(soyb_acf, main = "SOYB")
plot(weat_acf, main = "WEAT")
plot(uso_acf, main = "USO")
par(mfrow = c(3, 2) , mai = c(0.2, 0.3, 0.55, 0.5))  # come back and change format
plot(corn_acf, main = "CORN")
plot(soyb_acf, main = "SOYB")
plot(weat_acf, main = "WEAT")
plot(uso_acf, main = "USO")
plot(uga_acf, main = "UGA")
dev.off()
# ACF GRAPH: RESIDUALS
corn_acf <- forecast::Acf(CORN_in$Ea, plot = FALSE, lag.max = 20)
soyb_acf <- forecast::Acf(SOYB_in$Ea, plot = FALSE, lag.max = 20)
weat_acf <- forecast::Acf(WEAT_in$Ea, plot = FALSE, lag.max = 20)
uso_acf <- forecast::Acf(USO_in$Ea, plot = FALSE, lag.max = 20)
uga_acf <- forecast::Acf(UGA_in$Ea, plot = FALSE, lag.max = 20)
par(mfrow = c(3, 2) , mai = c(0.2, 0.3, 0.55, 0.5))  # come back and change format
plot(corn_acf, main = "CORN")
plot(soyb_acf, main = "SOYB")
plot(weat_acf, main = "WEAT")
par(mfrow = c(3, 2) , mai = c(0.2, 0.3, 0.55, 0.5))  # come back and change format
plot(corn_acf, main = "CORN", xlim(1,20))
plot(soyb_acf, main = "SOYB", xlim(1,20))
plot(weat_acf, main = "WEAT")
View(soyb_acf)
corn_acf$acf[1:12]
corn_acf$acf[1:22]
corn_acf$acf[2:21]
plot(corn_acf$acf[2:21], main = "CORN")
plot(corn_acf[2:21], main = "CORN")
# ACF GRAPH: SQUARED RESIDUALS
corn2_acf <- forecast::Acf(CORN_in$Ea^2, plot = FALSE)
soyb2_acf <- forecast::Acf(SOYB_in$Ea^2, plot = FALSE)
weat2_acf <- forecast::Acf(WEAT_in$Ea^2, plot = FALSE)
uso2_acf <- forecast::Acf(USO_in$Ea^2, plot = FALSE)
uga2_acf <- forecast::Acf(UGA_in$Ea^2, plot = FALSE)
par(mfrow = c(3, 2) , mai = c(0.2, 0.3, 0.55, 0.5))
plot(corn2_acf[2:21], main = "CORN")
plot(soyb2_acf[2:21], main = "SOYB")
plot(weat2_acf[2:21], main = "WEAT")
plot(uso2_acf[2:21], main = "USO")
plot(uga2_acf[2:21], main = "UGA")
dev.off()
par(mfrow = c(3, 2) , mai = c(0.2, 0.3, 0.55, 0.4))
plot(corn2_acf[2:21], main = "CORN")
plot(soyb2_acf[2:21], main = "SOYB")
plot(weat2_acf[2:21], main = "WEAT")
plot(uso2_acf[2:21], main = "USO")
plot(uga2_acf[2:21], main = "UGA")
par(mfrow = c(3, 2) , mai = c(0.2, 0.3, 0.55, 0.3))
plot(corn2_acf[2:21], main = "CORN")
plot(soyb2_acf[2:21], main = "SOYB")
plot(weat2_acf[2:21], main = "WEAT")
plot(uso2_acf[2:21], main = "USO")
plot(uga2_acf[2:21], main = "UGA")
par(mfrow = c(3, 2) , mai = c(0.3, 0.3, 0.55, 0.5))
plot(corn2_acf[2:21], main = "CORN")
plot(soyb2_acf[2:21], main = "SOYB")
plot(weat2_acf[2:21], main = "WEAT")
plot(uso2_acf[2:21], main = "USO")
plot(uga2_acf[2:21], main = "UGA")
# ACF GRAPH: RESIDUALS
corn_acf <- forecast::Acf(CORN_in$Ea, plot = FALSE)
soyb_acf <- forecast::Acf(SOYB_in$Ea, plot = FALSE)
weat_acf <- forecast::Acf(WEAT_in$Ea, plot = FALSE)
uso_acf <- forecast::Acf(USO_in$Ea, plot = FALSE)
uga_acf <- forecast::Acf(UGA_in$Ea, plot = FALSE)
par(mfrow = c(3, 2) , mai = c(0.2, 0.3, 0.55, 0.5))  # come back and change format
plot(corn_acf[2:21], main = "CORN")
plot(soyb_acf[2:21], main = "SOYB")
plot(weat_acf[2:21], main = "WEAT")
plot(uso_acf[2:21], main = "USO")
plot(uga_acf[2:21], main = "UGA")
# LJUNG-BOX TEST: SQUARED RETURNS
stats::Box.test(CORN_in$Ea^2, type = "Ljung-Box", lag = 10)
# LJUNG-BOX TEST: SQUARED RETURNS
stats::Box.test(CORN_in$Ea^2, type = "Ljung-Box", lag = 20)
stats::Box.test(SOYB_in$Ea^2, type = "Ljung-Box", lag = 20)
stats::Box.test(WEAT_in$Ea^2, type = "Ljung-Box", lag = 20)
stats::Box.test(USO_in$Ea^2, type = "Ljung-Box", lag = 20)
stats::Box.test(UGA_in$Ea^2, type = "Ljung-Box", lag = 20)
# LJUNG-BOX TEST: RESIDUALS
stats::Box.test(CORN_in$Ea, type = "Ljung-Box", lag = 20)
stats::Box.test(SOYB_in$Ea, type = "Ljung-Box", lag = 20)
stats::Box.test(WEAT_in$Ea, type = "Ljung-Box", lag = 20)
stats::Box.test(USO_in$Ea, type = "Ljung-Box", lag = 20)
stats::Box.test(UGA_in$Ea, type = "Ljung-Box", lag = 20)
# LJUNG-BOX TEST: RESIDUALS
stats::Box.test(CORN_in$Ea, type = "Ljung-Box", lag = 10)
# ACF GRAPH: SQUARED RESIDUALS
corn2_acf <- forecast::Acf(CORN_in$Ea^2, plot = FALSE)
soyb2_acf <- forecast::Acf(SOYB_in$Ea^2, plot = FALSE)
weat2_acf <- forecast::Acf(WEAT_in$Ea^2, plot = FALSE)
uso2_acf <- forecast::Acf(USO_in$Ea^2, plot = FALSE)
uga2_acf <- forecast::Acf(UGA_in$Ea^2, plot = FALSE)
par(mfrow = c(3, 2) , mai = c(0.3, 0.3, 0.55, 0.5))
plot(corn2_acf[2:21], main = "CORN")
plot(soyb2_acf[2:21], main = "SOYB")
plot(weat2_acf[2:21], main = "WEAT")
plot(uso2_acf[2:21], main = "USO")
plot(uga2_acf[2:21], main = "UGA")
dev.off()
# LJUNG-BOX TEST: SQUARED RESIDUALS
stats::Box.test(CORN_in$Ea^2, type = "Ljung-Box", lag = 20)
stats::Box.test(SOYB_in$Ea^2, type = "Ljung-Box", lag = 20)
stats::Box.test(WEAT_in$Ea^2, type = "Ljung-Box", lag = 20)
stats::Box.test(USO_in$Ea^2, type = "Ljung-Box", lag = 20)
stats::Box.test(UGA_in$Ea^2, type = "Ljung-Box", lag = 20)
par(mfrow = c(3, 2) , mai = c(0.3, 0.3, 0.55, 0.5))
plot(corn2_acf[2:21], main = "CORN")
plot(soyb2_acf[2:21], main = "SOYB")
plot(weat2_acf[2:21], main = "WEAT")
plot(uso2_acf[2:21], main = "USO")
plot(uga2_acf[2:21], main = "UGA")
# IMPORT DATA
source("~/Documents/etf_tracking/Analysis/preprocessing.R")
CORN_in <- data_pull_in("CORN")
SOYB_in <- data_pull_in("SOYB")
WEAT_in <- data_pull_in("WEAT")
USO_in <- data_pull_in("USO")
UGA_in <- data_pull_in("UGA")
print(CORN_in)
CORN_in <- na.omit(data_pull_in("CORN"))
SOYB_in <- na.omit(data_pull_in("SOYB"))
WEAT_in <- na.omit(data_pull_in("WEAT"))
USO_in <- na.omit(data_pull_in("USO"))
UGA_in <- na.omit(data_pull_in("UGA"))
head(CORN_in)
CORN_in$Turnover <- CORN_in$Price * CORN_in$Volume
# Calculate multiple metrics of volume
CORN_in$logVolume <- log(CORN_in$Volume)
typeof(CORN_in$High)
typeof(CORN_in$Volume)
CORN_in$Volume <- as.numeric(CORN_in$Volume)
View(CORN_in)
View(SOYB_in)
# Volume Scratch Pad
# Colburn Hassman
# January 21, 2021
# The purpose of this script is to do the data work necessary to figure out
# which metric of volume is appropriate.
# IMPORT DATA
# Drop first row (containing NAs from return calc)
source("~/Documents/etf_tracking/Analysis/preprocessing.R")
CORN_in <- na.omit(data_pull_in("CORN"))
SOYB_in <- na.omit(data_pull_in("SOYB"))
WEAT_in <- na.omit(data_pull_in("WEAT"))
USO_in <- na.omit(data_pull_in("USO"))
UGA_in <- na.omit(data_pull_in("UGA"))
# Calculate multiple metrics of volume
typeof(CORN_in$Volume)
CORN_in$logVolume <- log(CORN_in$Volume)
CORN_in$Turnover <- CORN_in$Price * CORN_in$Volume
View(CORN_in)
typeof(CORN_in$Volume)
# Volume Scratch Pad
# Colburn Hassman
# January 21, 2021
# The purpose of this script is to do the data work necessary to figure out
# which metric of volume is appropriate.
# IMPORT DATA
# Drop first row (containing NAs from return calc)
source("~/Documents/etf_tracking/Analysis/preprocessing.R")
CORN_in <- na.omit(data_pull_in("CORN"))
SOYB_in <- na.omit(data_pull_in("SOYB"))
WEAT_in <- na.omit(data_pull_in("WEAT"))
USO_in <- na.omit(data_pull_in("USO"))
UGA_in <- na.omit(data_pull_in("UGA"))
# Calculate multiple metrics of volume
typeof(CORN_in$Volume)
CORN_in$logVolume <- log(CORN_in$Volume)
CORN_in$Turnover <- CORN_in$Price * CORN_in$Volume
View(CORN_in)
CORN_in$logTurnover <- log(CORN_in$Turnover)
plot(CORN_in$Date, CORN_in$logVolume)
plot(CORN_in$Date, CORN_in$logVolume, type = "l")
plot(CORN_in$Date, CORN_in$logTurnover, type = "l")
tseries::adf.test(CORN_in$logVolume)
tseries::adf.test(CORN_in$logTurnover)
stats::Box.test(CORN_in$logVolume, type = "Ljung-Box", lag = 20)
corn_acf <- forecast::Acf(CORN_in$logVolume, plot = FALSE)
plot(corn_acf[2:21], main = "CORN")
plot(CORN_in$Date, CORN_in$logVolume, type = "l")
# Calculate multiple metrics of volume
plot(CORN_in$Date, CORN_in$Volume, type = "l")
CORN_in$logVolume <- log(CORN_in$Volume)
plot(CORN_in$Date, CORN_in$logVolume, type = "l")
par(mfrow = c(3, 1))
plot(CORN_in$Date, CORN_in$Volume, type = "l")
plot(CORN_in$Date, CORN_in$logVolume, type = "l")
plot(CORN_in$Date, CORN_in$logTurnover, type = "l")
plot(USO_in$Date, USO_in$Volume)
plot(USO_in$Date, USO_in$Volume, type = "l")
dev.off()
plot(USO_in$Date, USO_in$Volume, type = "l")
plot(USO_in$Date, log(USO_in$Volume), type = "l")
library("tidyverse")
plot(USO_in$Date, log(USO_in$Volume/lag(USO_in$Volume)), type = "l")
tseries::adf.test(log(USO_in$Volume/lag(USO_in$Volume)))
tseries::adf.test(na.omit(log(USO_in$Volume/lag(USO_in$Volume)))
tseries::adf.test(na.omit(log(USO_in$Volume/lag(USO_in$Volume))))
tseries::adf.test(na.omit(log(USO_in$Volume/lag(USO_in$Volume))))
stats::Box.test(na.omit(log(USO_in$Volume/lag(USO_in$Volume))), type = "Ljung-Box", lag = 20)
urca::ur.kpss(log(USO_in$Volume))
summary(urca::ur.kpss(log(USO_in$Volume)))
urca::ur.kpss(log(USO_in$Volume)) %>% summary()
urca::ur.kpss(log(USO_in$Volume))
test <- urca::ur.kpss(log(USO_in$Volume))
summary(test)
library(urca)
test <- ur.kpss(log(USO_in$Volume))
summary(test)
test <- ur.kpss(log(CORN_in$Volume))
summary(test)
test <- ur.kpss(log(WEAT_in$Volume))
summary(test)
test <- ur.kpss(log(SOYB_in$Volume))
summary(test)
test <- ur.kpss(log(UGA_in$Volume))
summary(test)
plot(CORN_in$Date, CORN_in$logTurnover, type = "l")
plot(CORN_in$Date, CORN_in$logVolume, type = "l")
plot(CORN_in$Date, CORN_in$logTurnover, type = "l")
test <- ur.kpss(log(UGA_in$Volume/lag(UGA_in$Volume)))
summary(test)
tseries::adf.test(log(SOYB_in$Volume))
# Volatility Scratch Pad
# Colburn Hassman
# January 21, 2021
# Meant to explore volatility data and make sure specification is good
# IMPORT DATA
# Drop first row (containing NAs from return calc)
source("~/Documents/etf_tracking/Analysis/preprocessing.R")
CORN_in <- na.omit(data_pull_in("CORN"))
SOYB_in <- na.omit(data_pull_in("SOYB"))
WEAT_in <- na.omit(data_pull_in("WEAT"))
USO_in <- na.omit(data_pull_in("USO"))
UGA_in <- na.omit(data_pull_in("UGA"))
add_vol <- function(data){
data$vol <- (data$High - data$Low) / data$Close
}
# Volatility Scratch Pad
# Colburn Hassman
# January 21, 2021
# Meant to explore volatility data and make sure specification is good
# IMPORT DATA
# Drop first row (containing NAs from return calc)
source("~/Documents/etf_tracking/Analysis/preprocessing.R")
CORN <- na.omit(data_pull_in("CORN"))
SOYB <- na.omit(data_pull_in("SOYB"))
WEAT <- na.omit(data_pull_in("WEAT"))
USO <- na.omit(data_pull_in("USO"))
UGA <- na.omit(data_pull_in("UGA"))
add_vol <- function(data){
data$vol <- (data$High - data$Low) / data$Close
}
CORN <- add_vol(CORN)
SOYB <- add_vol(SOYB)
WEAT <- add_vol(WEAT)
USO <- add_vol(USO)
add_vol <- function(data){
data$vol <- (data$High - data$Low) / data$Close
}
CORN <- add_vol(CORN)
add_vol <- function(data){
data$vol <- (data$High - data$Low) / data$Price
}
CORN <- add_vol(CORN)
SOYB <- add_vol(SOYB)
WEAT <- add_vol(WEAT)
USO <- add_vol(USO)
add_vol <- function(data){
data$vol <- (data$High - data$Low) / data$Price
return(data)
}
CORN <- add_vol(CORN)
SOYB <- add_vol(SOYB)
# Volatility Scratch Pad
# Colburn Hassman
# January 21, 2021
# Meant to explore volatility data and make sure specification is good
# IMPORT DATA
# Drop first row (containing NAs from return calc)
source("~/Documents/etf_tracking/Analysis/preprocessing.R")
CORN <- na.omit(data_pull_in("CORN"))
SOYB <- na.omit(data_pull_in("SOYB"))
WEAT <- na.omit(data_pull_in("WEAT"))
USO <- na.omit(data_pull_in("USO"))
UGA <- na.omit(data_pull_in("UGA"))
add_vol <- function(data){
data$vol <- (data$High - data$Low) / data$Price
return(data)
}
CORN <- add_vol(CORN)
SOYB <- add_vol(SOYB)
WEAT <- add_vol(WEAT)
USO <- add_vol(USO)
UGA <- add_vol(UGA)
View(CORN)
plot_vol(CORN)
plot_vol <- function(data){
plot(data$Date, dataTvol, type = 'l')
}
plot_vol(CORN)
plot_vol <- function(data){
plot(data$Date, data$vol, type = 'l')
}
plot_vol(CORN)
plot_vol(CORN)
plot_vol(SOYB)
plot_vol(WEAT)
plot_vol(USO)
plot_vol(UGA)
vol_test <- function(data){
tseries::adf.test(data$vol)
urca::ur.kpss(data$vol)
}
vol_test(CORN)
vol_test <- function(data){
print(tseries::adf.test(data$vol))
print(urca::ur.kpss(data$vol))
}
vol_test(CORN)
